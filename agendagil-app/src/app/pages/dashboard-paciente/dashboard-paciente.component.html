<div class="d-flex min-vh-100 flex-column flex-md-row">
  <!-- Sidebar -->
  <div
    [class.collapsed]="isCollapsed"
    [ngClass]="{
      sidebar: true,
      'bg-main': true,
      'text-white': true,
      'p-3': true,
      'd-none': isMobile && isCollapsed,
      'd-block': !isMobile || !isCollapsed
    }"
  >
    <!-- Logo no TOPO -->
    <div class="logo-header mb-4">
      <div class="text-center">
        <img
          src="../../../assets/logo.jpg"
          alt="AgendAgil Logo"
          [class.logo-collapsed]="isCollapsed"
          class="sidebar-logo"
        />
      </div>
    </div>

    <!-- Título + Botão -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h5 class="m-0">Olá, {{ primeiroNome }}!</h5>
      <button
        class="btn btn-sm btn-light text-main d-md-none"
        (click)="toggleSidebar()"
      >
        <i class="bi" [ngClass]="isCollapsed ? 'bi-list' : 'bi-x'"></i>
      </button>
    </div>

    <!-- Menu -->
    <ul class="nav flex-column">
      <li class="nav-item" data-tooltip="Nova Consulta">
        <a class="nav-link text-white" routerLink="agendar">
          <i class="bi bi-plus-circle-fill me-2"></i>
          <span *ngIf="!isCollapsed">Nova Consulta</span>
        </a>
      </li>
      <li class="nav-item" data-tooltip="Consultas">
        <a class="nav-link text-white" routerLink="consultas">
          <i class="bi bi-calendar-check-fill me-2"></i>
          <span *ngIf="!isCollapsed">Consultas</span>
        </a>
      </li>
      <li class="nav-item" data-tooltip="Notificações">
        <a class="nav-link text-white" routerLink="notificacoes">
          <i class="bi bi-bell-fill me-2"></i>
          <span *ngIf="!isCollapsed">Notificações</span>
        </a>
      </li>
      <li class="nav-item" data-tooltip="Histórico">
        <a class="nav-link text-white" routerLink="historico">
          <i class="bi bi-clock-history me-2"></i>
          <span *ngIf="!isCollapsed">Histórico</span>
        </a>
      </li>
      <li class="nav-item mt-3" data-tooltip="Sair">
        <a class="nav-link text-white" routerLink="/logout">
          <i class="bi bi-box-arrow-right me-2"></i>
          <span *ngIf="!isCollapsed">Sair</span>
        </a>
      </li>
    </ul>
  </div>

  <div class="flex-grow-1 p-4 bg-light">
    <button
      class="btn btn-outline-primary mb-2 d-md-none"
      (click)="toggleSidebar()"
    >
      <i class="bi" [ngClass]="isCollapsed ? 'bi-list' : 'bi-x'"></i>
    </button>
    <router-outlet></router-outlet>
  </div>
</div>
